-- PUNTO 2
CREATE TABLESPACE GOFAR_TRAVEL DATAFILE
'C:\oraclexe\app\oracle\oradata\XE\GOFAR_TRAVEL1.DBF' SIZE 700M,
'C:\oraclexe\app\oracle\oradata\XE\GOFAR_TRAVEL2.DBF' SIZE 300M,
'C:\oraclexe\app\oracle\oradata\XE\GOFAR_TRAVEL3.DBF' SIZE 24M;

CREATE TABLESPACE TEST_PURPOSES DATAFILE
'C:\oraclexe\app\oracle\oradata\XE\TEST_PURPOSES1.DBF' SIZE 500M;

CREATE UNDO TABLESPACE UNDO_TBS DATAFILE 
'C:\oraclexe\app\oracle\oradata\XE\UNDO_TBS1.DBF' SIZE 5M;

-- PUNTO 3
ALTER SYSTEM SET UNDO_TABLESPACE = UNDO_TBS;

-- PUNTO 4
CREATE USER NEW_DBA
IDENTIFIED BY DBA123
DEFAULT TABLESPACE GOFAR_TRAVEL
QUOTA UNLIMITED ON GOFAR_TRAVEL;

-- PUNTO 5
GRANT CONNECT, DBA TO NEW_DBA;

-- PUNTO 6
CREATE PROFILE MANAGER_PROFILE LIMIT
PASSWORD_LIFE_TIME 40
SESSIONS_PER_USER 1
IDLE_TIME 15
FAILED_LOGIN_ATTEMPTS 4;

CREATE PROFILE FINANCE_PROFILE LIMIT
PASSWORD_LIFE_TIME 15
SESSIONS_PER_USER 1
IDLE_TIME 5
FAILED_LOGIN_ATTEMPTS 2;

CREATE PROFILE DEVELOPMENT_PROFILE LIMIT
PASSWORD_LIFE_TIME 100
SESSIONS_PER_USER 2
IDLE_TIME 30
FAILED_LOGIN_ATTEMPTS UNLIMITED;

-- PUNTO 7
CREATE USER USER_ONE
IDENTIFIED BY USER1
DEFAULT TABLESPACE GOFAR_TRAVEL
PROFILE MANAGER_PROFILE;

CREATE USER USER_TWO
IDENTIFIED BY USER2
DEFAULT TABLESPACE GOFAR_TRAVEL
PROFILE FINANCE_PROFILE;

CREATE USER USER_TREE
IDENTIFIED BY USER3
DEFAULT TABLESPACE GOFAR_TRAVEL
PROFILE DEVELOPMENT_PROFILE;

CREATE USER USER_FOUR
IDENTIFIED BY USER4
DEFAULT TABLESPACE GOFAR_TRAVEL
PROFILE DEVELOPMENT_PROFILE;

GRANT CONNECT TO USER_ONE, USER_TWO, USER_TREE, USER_FOUR;

-- PUNTO 8
ALTER USER USER_ONE ACCOUNT LOCK;
ALTER USER USER_TWO ACCOUNT LOCK;

-- PUNTO 9
DROP TABLESPACE GOFAR_TRAVEL;

--PUNTO 10

CREATE TABLE ACCESORIOS 
(
  ID NUMBER(*, 0) NOT NULL 
, DESCRIPCION VARCHAR2(50 BYTE) NOT NULL 
, PRECIO_VENTA NUMBER(*, 0) 
, COSTO NUMBER(*, 0) 
, CONSTRAINT ACCESORIOS_PK PRIMARY KEY 
  (
    ID 
  );
 CREATE TABLE CLIENTES 
(
  ID NUMBER(*, 0) NOT NULL 
, CEDULA NUMBER(*, 0) 
, COLUMN1 VARCHAR2(20 BYTE) 
, COLUMN2 NUMBER(*, 0) 
, COLUMN3 NVARCHAR2(20) 
, CONSTRAINT CLIENTES_PK PRIMARY KEY 
  (
    ID 
  );
  
  CREATE TABLE FACTURA_DETALLES 
(
  ID NUMBER(*, 0) NOT NULL 
, FACTURA_ID NUMBER(*, 0) NOT NULL 
, ACCESORIO_ID NUMBER(*, 0) NOT NULL 
, CONSTRAINT FACTURA_DETALLES_PK PRIMARY KEY 
  (
    ID 
  );
  CREATE TABLE FACTURAS 
(
  ID NUMBER(*, 0) NOT NULL 
, CLIENTE_ID NUMBER(*, 0) NOT NULL 
, VENDEDOR_ID NUMBER(*, 0) NOT NULL 
, VEHICULO_ID NUMBER(*, 0) NOT NULL 
, FECHA_VENTA DATE 
, CONSTRAINT FACTURAS_PK PRIMARY KEY 
  (
    ID 
  );
  CREATE TABLE VEHICULOS 
(
  VIN NUMBER(*, 0) NOT NULL 
, NOMBRE VARCHAR2(20 BYTE) 
, MODELO NVARCHAR2(20) 
, AÑO NUMBER(*, 0) 
, NOMBRE_FABRICANTE VARCHAR2(20 BYTE) 
, COLUMN1 NUMBER(*, 0) 
, CONSTRAINT VEHICULOS_PK PRIMARY KEY 
  (
    VIN 
  );
CREATE TABLE VEHICULOS_COMERCIO 
(
  ID NUMBER(*, 0) NOT NULL 
, NUMERO_SERIE NVARCHAR2(20) NOT NULL 
, MARCA VARCHAR2(20 BYTE) 
, MODELO VARCHAR2(20 BYTE) 
, AÑO NUMBER(*, 0) 
, CONSTRAINT VEHICULOS_COMERCIO_PK PRIMARY KEY 
  (
    ID 
  );
  CREATE TABLE VENDEDORES 
(
  ID NUMBER(*, 0) NOT NULL 
, NOMBRE VARCHAR2(20 BYTE) 
, APELLIDOS VARCHAR2(20 BYTE) 
, CODIGO_SISTEMA NVARCHAR2(5) 
, CONSTRAINT VENDEDORES_PK PRIMARY KEY 
  (
    ID 
  );
CREATE SEQUENCE  "SYSTEM"."SECUENCIA_ACCESORIOS"  MINVALUE 100 MAXVALUE 99999999 INCREMENT BY 10 START WITH 100 CACHE 20 ORDER  NOCYCLE ;
CREATE SEQUENCE  "SYSTEM"."SECUENCIA_CLIENTE"  MINVALUE 1 MAXVALUE 9999999 INCREMENT BY 1 START WITH 1 CACHE 20 ORDER  NOCYCLE ;
CREATE SEQUENCE  "SYSTEM"."SECUENCIA_FACTURA"  MINVALUE 100 MAXVALUE 999999999 INCREMENT BY 1 START WITH 100 CACHE 20 ORDER  NOCYCLE ;
CREATE SEQUENCE  "SYSTEM"."SECUENCIA_FACTURA_DETALLE"  MINVALUE 1 MAXVALUE 999999999 INCREMENT BY 1 START WITH 1 CACHE 20 ORDER  NOCYCLE ;
CREATE SEQUENCE  "SYSTEM"."SECUENCIA_VEHICULO"  MINVALUE 100 MAXVALUE 9999 INCREMENT BY 1 START WITH 100 CACHE 20 ORDER  NOCYCLE ;
CREATE SEQUENCE  "SYSTEM"."SECUENCIA_VENDEDOR"  MINVALUE 1 MAXVALUE 9999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
CREATE SEQUENCE  "SYSTEM"."TEMPLATE$_TARGETS_S"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
