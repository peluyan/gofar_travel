-- PUNTO 2
CREATE TABLESPACE GOFAR_TRAVEL DATAFILE
'C:\oraclexe\app\oracle\oradata\XE\GOFAR_TRAVEL1.DBF' SIZE 700M,
'C:\oraclexe\app\oracle\oradata\XE\GOFAR_TRAVEL2.DBF' SIZE 300M,
'C:\oraclexe\app\oracle\oradata\XE\GOFAR_TRAVEL3.DBF' SIZE 24M;

CREATE TABLESPACE TEST_PURPOSES DATAFILE
'C:\oraclexe\app\oracle\oradata\XE\TEST_PURPOSES1.DBF' SIZE 500M;

CREATE UNDO TABLESPACE UNDO_TBS DATAFILE 
'C:\oraclexe\app\oracle\oradata\XE\UNDO_TBS1.DBF' SIZE 5M;

-- PUNTO 3
ALTER SYSTEM SET UNDO_TABLESPACE = UNDO_TBS;

-- PUNTO 4
CREATE USER NEW_DBA
IDENTIFIED BY DBA123
DEFAULT TABLESPACE GOFAR_TRAVEL
QUOTA UNLIMITED ON GOFAR_TRAVEL;

-- PUNTO 5
GRANT CONNECT, DBA TO NEW_DBA;

-- PUNTO 6
CREATE PROFILE MANAGER_PROFILE LIMIT
PASSWORD_LIFE_TIME 40
SESSIONS_PER_USER 1
IDLE_TIME 15
FAILED_LOGIN_ATTEMPTS 4;

CREATE PROFILE FINANCE_PROFILE LIMIT
PASSWORD_LIFE_TIME 15
SESSIONS_PER_USER 1
IDLE_TIME 5
FAILED_LOGIN_ATTEMPTS 2;

CREATE PROFILE DEVELOPMENT_PROFILE LIMIT
PASSWORD_LIFE_TIME 100
SESSIONS_PER_USER 2
IDLE_TIME 30
FAILED_LOGIN_ATTEMPTS UNLIMITED;

-- PUNTO 7
CREATE USER USER_ONE
IDENTIFIED BY USER1
DEFAULT TABLESPACE GOFAR_TRAVEL
PROFILE MANAGER_PROFILE;

CREATE USER USER_TWO
IDENTIFIED BY USER2
DEFAULT TABLESPACE GOFAR_TRAVEL
PROFILE FINANCE_PROFILE;

CREATE USER USER_TREE
IDENTIFIED BY USER3
DEFAULT TABLESPACE GOFAR_TRAVEL
PROFILE DEVELOPMENT_PROFILE;

CREATE USER USER_FOUR
IDENTIFIED BY USER4
DEFAULT TABLESPACE GOFAR_TRAVEL
PROFILE DEVELOPMENT_PROFILE;

GRANT CONNECT TO USER_ONE, USER_TWO, USER_TREE, USER_FOUR;

-- PUNTO 8
ALTER USER USER_ONE ACCOUNT LOCK;
ALTER USER USER_TWO ACCOUNT LOCK;

-- PUNTO 9
DROP TABLESPACE GOFAR_TRAVEL;